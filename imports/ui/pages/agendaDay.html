<template name="agendaDay">
	{{setTitle "Agenda"}}

	<a href="/agenda/{{currentYear}}">Agenda de l'année</a>
	<br>
	<a href="/agenda/{{currentYear}}/{{currentMonth}}">Agenda du mois</a>

	<h3><center>
		Notes pour le {{getNamedDayOfWeekFromMonthAndYear (currentYear) (currentMonth) (currentDay)}} {{currentDay}} {{getNamedMonth (currentMonth)}} {{currentYear}}
	</center></h3>

	<div class="row note_container">
		<div class="col s12">
			<!-- Tabs -->
			<ul class="notes_tab tabs-fixed-with">
				{{#each note in getNotes}}
				<a href="#{{note._id}}" style="color: white">
					<li class="tab col s3 valign-wrapper" style="background-color: {{getCourseColorById (note.course)}}">
						{{getCourseNameById (note.course)}}
						<a href="#" class="delete_note" value="{{note._id}}"><i value="{{note._id}}" class="close material-icons">close</i></a>
					</li>
				</a>
				{{/each}}
			</ul>
		</div>
		<!-- Contents -->
		{{#each note in getNotes}}
		<div id="{{note._id}}" class="col s12 tab-content">
			<!-- textarea contenant le contenu -->
			<form class="col s12">
				<div class="row">
					<div class="input-field col s12">
						<textarea placeholder="Ecrivez votre note ici" note="{{note._id}}" class="materialize-textarea content_area">{{note.content}}</textarea>
					</div>
				</div>
			</form>
		</div>
		{{/each}}
	</div>

	{{#let courses=unNotedCourses}}
		{{#if (coursesCountNotNull courses)}}
			<button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored add-button" state='closed'><i class="material-icons">add</i></button>
		{{/if}}
		<div id="modal" class="mdl-card mdl-shadow--2dp card-modal hidden">
			<div class="mdl-card__title">
    			<h2 class="mdl-card__title-text">Choisissez un cours pour lequel créer une note</h2>
  			</div>
			<div class="mdl-card__supporting-text">
				{{#each course in courses}}
					<div class="courseSelector new_note" courseId="{{course._id}}">
						<div style="background-color: {{course.color}}"></div>
						{{course.name}}
					</div>
				{{/each}}
			</div>
		</div>
	{{/let}}
</template>
