<template name="agendaMonth">
	{{setTitle "Agenda"}}
	<div class="mdl-grid">
		<div class="mdl-layout-spacer"></div>
		<div class="mdl-cell mdl-cell--10-col mdl-card mdl-shadow--2dp">
			<div class="mdl-grid">
				<div class="mdl-cell mdl-cell--1-col-desktop mdl-cell--1-col-tablet mdl-cell--1-col-phone mdl-cell--middle">
					<a href="/agenda/{{previousMonthLink (currentYear) (currentMonth)}}" class="mdl-button mdl-js-button mdl-button--icon" style="text-align: center;">
	  					<i class="material-icons">keyboard_arrow_left</i>
					</a>
				</div>
				<div class="mdl-cell mdl-cell--10-col-desktop mdl-cell--6-col-tablet mdl-cell--2-col-phone mdl-cell--middle">
					<h3 style="text-align: center;">
						Agenda {{getNamedMonth (currentMonth)}} {{currentYear}}
					</h3>
				</div>
				<div class="mdl-cell mdl-cell--1-col-desktop mdl-cell--1-col-tablet mdl-cell--1-col-phone mdl-cell--middle">
					<a href="/agenda/{{nextMonthLink (currentYear) (currentMonth)}}" class="mdl-button mdl-js-button mdl-button--icon" style="text-align: center;">
	  					<i class="material-icons" style="text-align: center;">keyboard_arrow_right</i>
					</a>
				</div>
			</div>

			<div class="calendar_container">
				<div class="calendar_block">Lun.</div>
				<div class="calendar_block">Ma.</div>
				<div class="calendar_block">Me.</div>
				<div class="calendar_block">Jeu.</div>
				<div class="calendar_block">Ven.</div>
				<div class="calendar_block">Sam.</div>
				<div class="calendar_block">Dim.</div>

				{{#let days = daysInMonth}}

					<!-- Here build spaces -->
					{{#let dayCount = (daysBeforeMonth days)}}
						{{#each emptyDay in (range 0 dayCount 1) }}
							<div class="calendar_block"></div>
						{{/each}}
					{{/let}}

					<!-- Build calendar blocks -->
					{{#each day in days}}
						<div class="calendar_block"><a href="/agenda/{{currentYear}}/{{currentMonth}}/{{day.getDate}}/">{{day.getDate}}</a></div>
					{{/each}}
					{{#let daysAfterCount = (daysAfterMonth days)}}
						{{#if daysAfterCount }}
							<div class="calendar_block" style="width: calc({{daysAfterMonth days}}*14.28611%)"></div>
						{{/if}}
					{{/let}}
				{{/let}}
			</div>

			<table class="month-table">
		        <thead>
		          	<tr>
		              	<th>Lundi</th>
		              	<th>Mardi</th>
					  	<th>Mercredi</th>
					  	<th>Jeudi</th>
					  	<th>Vendredi</th>
					  	<th>Samedi</th>
					  	<th>Dimanche</th>
		          	</tr>
		        </thead>

		        <tbody>
					{{#let days=daysInMonth}}
						<tr>
							{{{buildWeek 0 days}}}
						</tr>
						<tr>
							{{{buildWeek 1 days}}}
						</tr>
						<tr>
							{{{buildWeek 2 days}}}
						</tr>
						<tr>
							{{{buildWeek 3 days}}}
						</tr>
						<tr>
							{{{buildWeek 4 days}}}
						</tr>
						<tr>
							{{{buildWeek 5 days}}}
						</tr>
					{{/let}}
		        </tbody>
	      	</table>
		</div>
		<div class="mdl-layout-spacer"></div>
	</div>

</template>
